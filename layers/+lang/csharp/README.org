#+TITLE: C# layer

#+TAGS: general|layer|multi-paradigm|programming

[[file:img/csharp.png]]

* Table of Contents                     :TOC_5_gh:noexport:
- [[#description][Description]]
  - [[#features][Features:]]
- [[#install][Install]]
  - [[#omnisharp-backend][Omnisharp backend]]
- [[#caveats][Caveats]]
- [[#key-bindings][Key bindings]]

* Description
This layer adds support for the C# language using the [[https://github.com/OmniSharp/omnisharp-roslyn][omnisharp-roslyn]]
language server with the [[https://github.com/emacs-lsp/lsp-mode][lsp-mode]] package.

** Features:
- Syntax checking with flycheck (when =syntax-checking= layer is used)
- Support for auto-completion (when =auto-completion= layer is used)
- Refactoring
- Navigation to cross-references
- Inspecting types in metadata

* Install
To use this configuration layer, add it to your =~/.spacemacs=. You will need to
add =csharp= to the existing =dotspacemacs-configuration-layers= list in this
file.

You can also disable the LSP backend by setting the =csharp-backend=
variable when configuring the layer:
- =lsp= (the default)
- =nil= (to not use any language server)

#+BEGIN_SRC elisp
  (csharp :variables csharp-backend nil)  ;disable the language server
#+END_SRC

** Omnisharp backend
Before you can work with C# files you will need to install the server
using the instructions at [[https://github.com/OmniSharp/omnisharp-emacs/blob/master/doc/server-installation.md][omnisharp-emacs/doc/server-installation.md]].

* Caveats
- You should use =dotnet= CLI tool from [[https://www.microsoft.com/net/download/core][.NET Core download page]] or an IDE like
  Visual Studio or Xamarin Studio to manage solution and project files.
- Debugging on command line is possible using [[https://github.com/mono/sdb][SDB]].

* Key bindings
LSP-backend uses key bindings that are common for all layers/languages
using the =lsp= layer.
